<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SERINA NEUROS • Cognitive Nexus</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    /* ==== NEURAL NETWORK STYLE ==== */
    :root {
      --neon-blue: #00f7ff;
      --matrix-green: #00ff4c;
      --synapse-purple: #b400ff;
      --neural-pink: #ff00b7;
      --void-black: #050510;
      --neural-bg: 
        radial-gradient(circle at 20% 30%, 
          rgba(0, 247, 255, 0.03) 0%, 
          rgba(5, 5, 16, 0.95) 70%),
        linear-gradient(
          to right,
          rgba(180, 0, 255, 0.02) 1px,
          transparent 1px
        ),
        linear-gradient(
          to bottom,
          rgba(0, 255, 76, 0.02) 1px,
          transparent 1px
        );
      --grid-size: 30px;
    }
    
    body {
      background: var(--void-black);
      background-image: var(--neural-bg);
      background-size: 100% 100%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size);
      color: var(--neon-blue);
      font-family: 'Share Tech Mono', monospace;
      margin: 0;
      padding: 0;
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    /* Animated neural connections */
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(
          45deg,
          transparent 65%,
          rgba(0, 247, 255, 0.1) 65%,
          rgba(0, 247, 255, 0.1) 70%,
          transparent 70%
        ),
        linear-gradient(
          -45deg,
          transparent 65%,
          rgba(0, 255, 76, 0.1) 65%,
          rgba(0, 255, 76, 0.1) 70%,
          transparent 70%
        );
      background-size: 50px 50px;
      opacity: 0.3;
      animation: neuralFlow 60s linear infinite;
      z-index: -2;
    }

    @keyframes neuralFlow {
      0% { background-position: 0 0; }
      100% { background-position: 1000px 1000px; }
    }

    /* Pulsing neural nodes */
    body::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 10% 20%, var(--neon-blue) 0%, transparent 70%),
        radial-gradient(circle at 90% 30%, var(--matrix-green) 0%, transparent 70%),
        radial-gradient(circle at 30% 80%, var(--synapse-purple) 0%, transparent 70%),
        radial-gradient(circle at 70% 70%, var(--neural-pink) 0%, transparent 70%);
      background-size: 100% 100%;
      opacity: 0.05;
      animation: pulseNodes 15s ease infinite alternate;
      z-index: -1;
    }

    @keyframes pulseNodes {
      0%, 100% { opacity: 0.05; transform: scale(1); }
      50% { opacity: 0.15; transform: scale(1.2); }
    }

    .chat-container {
      width: 90%;
      max-width: 900px;
      height: 85vh;
      background: rgba(5, 5, 16, 0.8);
      border: 1px solid rgba(0, 247, 255, 0.1);
      border-radius: 5px;
      box-shadow: 
        0 0 30px rgba(0, 247, 255, 0.1),
        inset 0 0 30px rgba(0, 255, 76, 0.05);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
    }

    /* Circuit board border */
    .chat-container::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        var(--neon-blue) 20%, 
        var(--matrix-green) 40%,
        var(--synapse-purple) 60%,
        var(--neural-pink) 80%,
        transparent 100%);
      animation: circuitFlow 8s linear infinite;
      z-index: 2;
    }

    @keyframes circuitFlow {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    .chat-header {
      padding: 15px 25px;
      background: linear-gradient(90deg, 
        rgba(0, 247, 255, 0.05) 0%, 
        rgba(0, 255, 76, 0.05) 100%);
      display: flex;
      align-items: center;
      gap: 15px;
      position: relative;
      border-bottom: 1px solid rgba(0, 247, 255, 0.1);
    }

    .neuro-icon {
      color: var(--neon-blue);
      font-size: 1.5rem;
      filter: drop-shadow(0 0 5px var(--neon-blue));
      animation: neuroPulse 2s ease-in-out infinite;
    }

    @keyframes neuroPulse {
      0%, 100% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.2); opacity: 1; text-shadow: 0 0 10px var(--neon-blue); }
    }

    .chat-header h2 {
      margin: 0;
      font-weight: normal;
      letter-spacing: 3px;
      font-family: 'Major Mono Display', monospace;
      color: var(--neon-blue);
      font-size: 1.8rem;
      text-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
    }

    .chat-messages {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background-image: 
        radial-gradient(circle at center, 
          rgba(0, 247, 255, 0.02) 0%, 
          transparent 70%);
      position: relative;
    }

    .message {
      margin-bottom: 25px;
      display: flex;
      gap: 15px;
      align-items: flex-start;
      position: relative;
      padding: 5px 0;
    }

    .message::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-left: 1px solid rgba(0, 247, 255, 0.1);
      border-right: 1px solid rgba(0, 247, 255, 0.1);
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .message:hover::before {
      opacity: 1;
    }

    .user-message {
      justify-content: flex-end;
    }

    .user-message .content {
      background: rgba(0, 247, 255, 0.1);
      color: var(--neon-blue);
      border-radius: 0 15px 15px 15px;
      padding: 15px 20px;
      max-width: 70%;
      position: relative;
      border: 1px solid rgba(0, 247, 255, 0.2);
      box-shadow: 0 0 15px rgba(0, 247, 255, 0.1);
      text-shadow: 0 0 5px rgba(0, 247, 255, 0.5);
    }

    .neuro-message .content {
      background: rgba(0, 255, 76, 0.1);
      color: var(--matrix-green);
      border-radius: 15px 0 15px 15px;
      padding: 15px 20px;
      max-width: 70%;
      position: relative;
      border: 1px solid rgba(0, 255, 76, 0.2);
      box-shadow: 0 0 15px rgba(0, 255, 76, 0.1);
      text-shadow: 0 0 5px rgba(0, 255, 76, 0.5);
    }

    /* Connection lines */
    .message::after {
      content: "";
      position: absolute;
      width: 2px;
      background: linear-gradient(to bottom, 
        transparent 0%, 
        var(--synapse-purple) 30%, 
        transparent 100%);
      top: -15px;
      bottom: -15px;
      left: 25px;
      opacity: 0.3;
      z-index: -1;
    }

    .user-message::after {
      left: auto;
      right: 25px;
      background: linear-gradient(to bottom, 
        transparent 0%, 
        var(--neural-pink) 30%, 
        transparent 100%);
    }

    .timestamp {
      font-size: 0.7rem;
      opacity: 0.6;
      margin-top: 8px;
      display: block;
      text-align: right;
    }

    .chat-input-container {
      padding: 15px 20px;
      background: rgba(5, 10, 20, 0.7);
      border-top: 1px solid rgba(0, 247, 255, 0.1);
      display: flex;
      gap: 15px;
      align-items: center;
      position: relative;
    }

    #chat-input {
      flex: 1;
      background: rgba(0, 247, 255, 0.05);
      border: 1px solid rgba(0, 247, 255, 0.2);
      color: var(--neon-blue);
      padding: 15px 20px;
      font-family: 'Share Tech Mono', monospace;
      outline: none;
      border-radius: 5px;
      font-size: 1rem;
      transition: all 0.3s;
      text-shadow: 0 0 5px rgba(0, 247, 255, 0.5);
    }

    #chat-input::placeholder {
      color: rgba(0, 247, 255, 0.5);
    }

    #chat-input:focus {
      box-shadow: 0 0 20px rgba(0, 247, 255, 0.3);
      background: rgba(0, 247, 255, 0.1);
      border-color: var(--neon-blue);
    }

    #send-btn {
      background: transparent;
      border: 1px solid var(--neon-blue);
      color: var(--neon-blue);
      width: 50px;
      height: 50px;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 0 10px rgba(0, 247, 255, 0.3);
      position: relative;
      overflow: hidden;
    }

    #send-btn::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        transparent 45%,
        rgba(0, 247, 255, 0.3) 50%,
        transparent 55%
      );
      animation: sendGlow 3s linear infinite;
      opacity: 0;
    }

    @keyframes sendGlow {
      0% { transform: translate(-25%, -25%) rotate(0deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translate(-25%, -25%) rotate(360deg); opacity: 0; }
    }

    #send-btn:hover {
      background: rgba(0, 247, 255, 0.1);
      box-shadow: 0 0 20px rgba(0, 247, 255, 0.5);
    }

    #send-btn:hover::before {
      opacity: 1;
    }

    #mode-select {
      background: rgba(0, 255, 76, 0.1);
      color: var(--matrix-green);
      border: 1px solid rgba(0, 255, 76, 0.3);
      font-family: 'Share Tech Mono', monospace;
      padding: 12px 15px;
      border-radius: 5px;
      outline: none;
      cursor: pointer;
      appearance: none;
      -webkit-appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300ff4c'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 15px;
      padding-right: 35px;
      text-shadow: 0 0 5px rgba(0, 255, 76, 0.5);
    }

    #mode-select option {
      background: var(--void-black);
      color: var(--matrix-green);
    }

    #mode-select:focus {
      box-shadow: 0 0 15px rgba(0, 255, 76, 0.3);
      border-color: var(--matrix-green);
    }

    .typing-indicator {
      display: flex;
      gap: 15px;
      align-items: center;
      color: var(--matrix-green);
      opacity: 0.8;
      margin: 15px 0;
      text-shadow: 0 0 5px rgba(0, 255, 76, 0.5);
    }

    .typing-bars {
      display: flex;
      gap: 3px;
      align-items: flex-end;
      height: 20px;
    }

    .typing-bars span {
      display: inline-block;
      width: 3px;
      background: var(--matrix-green);
      border-radius: 3px;
      animation: typingBar 1.4s infinite ease-in-out;
      box-shadow: 0 0 5px var(--matrix-green);
    }

    .typing-bars span:nth-child(1) { height: 10px; animation-delay: 0s; }
    .typing-bars span:nth-child(2) { height: 15px; animation-delay: 0.2s; }
    .typing-bars span:nth-child(3) { height: 20px; animation-delay: 0.4s; }
    .typing-bars span:nth-child(4) { height: 15px; animation-delay: 0.6s; }
    .typing-bars span:nth-child(5) { height: 10px; animation-delay: 0.8s; }

    @keyframes typingBar {
      0%, 100% { height: 10px; }
      25% { height: 20px; }
      50% { height: 15px; }
      75% { height: 20px; }
    }

    /* Brain switcher */
    .brain-switcher {
      margin-left: auto;
      position: relative;
    }
    
    #brain-select {
      background: rgba(180, 0, 255, 0.1);
      color: var(--synapse-purple);
      border: 1px solid rgba(180, 0, 255, 0.3);
      font-family: 'Share Tech Mono', monospace;
      padding: 10px 15px;
      border-radius: 5px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s;
      appearance: none;
      -webkit-appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23b400ff'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 12px;
      padding-right: 30px;
      text-shadow: 0 0 5px rgba(180, 0, 255, 0.5);
    }
    
    #brain-select:hover {
      box-shadow: 0 0 15px rgba(180, 0, 255, 0.3);
      border-color: var(--synapse-purple);
    }
    
    #brain-select option {
      background: var(--void-black);
      color: var(--synapse-purple);
    }

    /* Back to menu button */
    .back-to-menu {
      background: transparent;
      border: 1px solid var(--neural-pink);
      color: var(--neural-pink);
      padding: 10px 15px;
      font-family: 'Share Tech Mono', monospace;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s;
      text-transform: uppercase;
      font-size: 0.8rem;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 8px;
      text-shadow: 0 0 5px rgba(255, 0, 183, 0.5);
      position: relative;
      overflow: hidden;
    }

    .back-to-menu::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 0, 183, 0.2),
        transparent
      );
      transition: all 0.5s;
    }

    .back-to-menu:hover {
      background: rgba(255, 0, 183, 0.1);
      box-shadow: 0 0 20px rgba(255, 0, 183, 0.3);
    }

    .back-to-menu:hover::before {
      left: 100%;
    }

    /* Custom scrollbar */
    .chat-messages::-webkit-scrollbar {
      width: 8px;
    }

    .chat-messages::-webkit-scrollbar-track {
      background: rgba(0, 247, 255, 0.05);
    }

    .chat-messages::-webkit-scrollbar-thumb {
      background: linear-gradient(var(--synapse-purple), var(--neural-pink));
      border-radius: 4px;
    }

    /* Binary rain effect */
    .binary-rain {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: -1;
      opacity: 0.1;
    }

    .binary-column {
      position: absolute;
      top: 0;
      width: 1ch;
      color: var(--matrix-green);
      font-size: 16px;
      writing-mode: vertical-rl;
      text-orientation: mixed;
      animation: binaryFall linear infinite;
    }

    @keyframes binaryFall {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }

    /* Neural connection animation between messages */
    .neural-connection {
      position: absolute;
      height: 2px;
      background: linear-gradient(90deg, var(--synapse-purple), var(--neural-pink));
      transform-origin: left center;
      z-index: -1;
      opacity: 0.5;
      animation: neuralPulse 3s infinite;
    }

    @keyframes neuralPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.7; }
    }

    /* Response quality indicator */
    .quality-indicator {
      display: flex;
      gap: 5px;
      margin-top: 10px;
    }

    .quality-bar {
      height: 3px;
      width: 20px;
      background: rgba(0, 255, 76, 0.3);
      border-radius: 3px;
      overflow: hidden;
      position: relative;
    }

    .quality-bar::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      width: 0;
      background: var(--matrix-green);
      animation: qualityFill 1s forwards;
    }

    @keyframes qualityFill {
      to { width: 100%; }
    }

    .quality-bar:nth-child(1)::after { animation-delay: 0.1s; }
    .quality-bar:nth-child(2)::after { animation-delay: 0.3s; }
    .quality-bar:nth-child(3)::after { animation-delay: 0.5s; }
    .quality-bar:nth-child(4)::after { animation-delay: 0.7s; }
    .quality-bar:nth-child(5)::after { animation-delay: 0.9s; }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">
      <i class="fas fa-brain neuro-icon"></i>
      <h2>SERINA NEUROS</h2>
      <div class="brain-switcher">
        <select id="brain-select">
          <option value="together">SYNAPSE CORE</option>
          <option value="deepinfra">QUANTUM NET</option>
        </select>
      </div>
      <button class="back-to-menu" onclick="backToMenu()">
        <i class="fas fa-project-diagram"></i> NETWORK
      </button>
    </div>
    
    <div class="binary-rain" id="binary-rain"></div>
    
    <div class="chat-messages" id="chat-messages">
      <div class="message neuro-message">
        <i class="fas fa-brain" style="color: var(--matrix-green);"></i>
        <div>
          <div class="content">Neural link established. Cognitive processors online. Ready for synaptic interaction.</div>
          <div class="timestamp">system initiation complete</div>
          <div class="quality-indicator">
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="chat-input-container">
      <select id="mode-select">
        <option value="standard">STANDARD PROCESSING</option>
        <option value="creative">CREATIVE THREADING</option>
        <option value="analytical">ANALYTICAL MATRIX</option>
        <option value="empathic">EMPATHIC CIRCUIT</option>
        <option value="precise">PRECISION MODE</option>
      </select>
      <input type="text" id="chat-input" placeholder="input neural query..." autocomplete="off">
      <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <script>
    const chatInput = document.getElementById('chat-input');
    const chatMessages = document.getElementById('chat-messages');
    const sendBtn = document.getElementById('send-btn');
    const brainSelect = document.getElementById('brain-select');
    const binaryRain = document.getElementById('binary-rain');

    // Create binary rain effect
    function createBinaryRain() {
      const columns = Math.floor(window.innerWidth / 16);
      for (let i = 0; i < columns; i++) {
        const col = document.createElement('div');
        col.className = 'binary-column';
        col.style.left = `${i * 16}px`;
        col.style.animationDuration = `${Math.random() * 5 + 5}s`;
        col.style.animationDelay = `${Math.random() * 5}s`;
        
        // Generate random binary string
        let binaryStr = '';
        const length = Math.floor(Math.random() * 20) + 10;
        for (let j = 0; j < length; j++) {
          binaryStr += Math.random() > 0.5 ? '1' : '0';
        }
        
        col.textContent = binaryStr;
        binaryRain.appendChild(col);
      }
    }

    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user-message' : 'neuro-message'}`;

      const icon = isUser 
        ? '<i class="fas fa-user" style="color: var(--neon-blue);"></i>' 
        : '<i class="fas fa-brain" style="color: var(--matrix-green);"></i>';

      const now = new Date();
      const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

      messageDiv.innerHTML = `
        ${icon}
        <div>
          <div class="content">${text}</div>
          <div class="timestamp">${timeString}</div>
          ${!isUser ? `
          <div class="quality-indicator">
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
            <div class="quality-bar"></div>
          </div>` : ''}
        </div>
      `;

      chatMessages.appendChild(messageDiv);
      
      // Create neural connection to previous message
      if (chatMessages.children.length > 1) {
        const prevMessage = chatMessages.children[chatMessages.children.length - 2];
        const currentMessage = messageDiv;
        
        const prevRect = prevMessage.getBoundingClientRect();
        const currentRect = currentMessage.getBoundingClientRect();
        
        const connection = document.createElement('div');
        connection.className = 'neural-connection';
        
        const startX = isUser ? prevRect.right - 30 : prevRect.left + 30;
        const startY = prevRect.bottom - 20;
        const endX = isUser ? currentRect.right - 30 : currentRect.left + 30;
        const endY = currentRect.top + 20;
        
        const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
        const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
        
        connection.style.width = `${length}px`;
        connection.style.left = `${startX}px`;
        connection.style.top = `${startY}px`;
        connection.style.transform = `rotate(${angle}deg)`;
        connection.style.animationDuration = `${Math.random() * 2 + 1}s`;
        
        document.body.appendChild(connection);
        
        // Remove connection after animation
        setTimeout(() => connection.remove(), 3000);
      }
      
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Add data transfer effect
      if (!isUser) {
        const contentDiv = messageDiv.querySelector('.content');
        const text = contentDiv.textContent;
        contentDiv.textContent = '';
        
        let i = 0;
        const typingEffect = setInterval(() => {
          if (i < text.length) {
            contentDiv.textContent += text.charAt(i);
            i++;
            chatMessages.scrollTop = chatMessages.scrollHeight;
          } else {
            clearInterval(typingEffect);
          }
        }, 20);
      }
    }

    function showTyping() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'typing-indicator';
      typingDiv.id = 'typing-indicator';
      typingDiv.innerHTML = `
        <i class="fas fa-brain" style="color: var(--matrix-green);"></i>
        <div class="typing-bars">
          <span></span><span></span><span></span><span></span><span></span>
        </div>
        <span style="font-size:0.8rem">processing neural patterns...</span>
      `;
      chatMessages.appendChild(typingDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function hideTyping() {
      const typingIndicator = document.getElementById('typing-indicator');
      if (typingIndicator) typingIndicator.remove();
    }

    async function handleSend() {
      const message = chatInput.value.trim();
      const mode = document.getElementById('mode-select').value;
      
      if (message === '') return;

      addMessage(message, true);
      chatInput.value = '';
      showTyping();

      try {
        const response = await fetch('/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            message, 
            mode
          })
        });

        if (!response.ok) throw new Error('Network response was not ok');

        const data = await response.json();
        hideTyping();
        addMessage(data.reply, false);
      } catch (error) {
        hideTyping();
        addMessage(`neural pathway disrupted... ${error.message}`, false);
      }
    }

    // Clean back button function
    function backToMenu() {
      const lastMenu = localStorage.getItem("lastMenuSkin");
      if (lastMenu) {
        window.location.href = lastMenu;
      } else {
        window.location.href = "holo";
      }
    }

    sendBtn.addEventListener('click', handleSend);
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') handleSend();
    });

    brainSelect.addEventListener('change', (e) => {
      const brainName = e.target.options[e.target.selectedIndex].text;
      addMessage(`⚡ switching to ${brainName} configuration...`, false);
      
      const brain = e.target.value;
      fetch('/set-brain', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ api: brain })
      });
    });

    // Initialize binary rain
    createBinaryRain();
    
    // Add responsive binary rain
    window.addEventListener('resize', () => {
      binaryRain.innerHTML = '';
      createBinaryRain();
    });

    // Add neural network grid animation
    setInterval(() => {
      document.body.style.backgroundPosition = `${Math.random() * 100}% ${Math.random() * 100}%`;
    }, 10000);

    chatInput.focus();
  </script>
</body>
</html>